---
timeout: 40

tasks:
  - name: Register caller
    use: register_caller

  - name: Register callee
    use: register_callee

  - name: Caller UAC
    use: caller_uac
    keys:
      callee_did: {{ callee_did }}
    require:
      - after:
          task: Register caller
  
  - name: Callee UAS
    use: callee_uas
    require:
      - started:
          task: Caller UAC

cleanup_tasks:
  - use: delete_caller_aor
  - use: delete_callee_aor
